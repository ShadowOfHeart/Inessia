package gg.vape.module.impl.Misc;

import gg.vape.event.EventTarget;
import gg.vape.event.events.impl.EventMotion;
import gg.vape.event.events.impl.EventPacket;
import gg.vape.module.Category;
import gg.vape.module.Module;
import gg.vape.module.ModuleInfo;
import gg.vape.settings.options.ListSetting;
import net.minecraft.init.MobEffects;
import net.minecraft.network.play.server.SPacketKeepAlive;
import net.minecraft.potion.PotionEffect;

import java.util.Random;


@ModuleInfo(name = "Exploit", type = Category.Misc)
public class Exploit extends Module {
    public ListSetting mode = new ListSetting("Mode", "STRENGTH", "LimitNet").call(this);
    public long StopDecompilingClientFaggot;
    @EventTarget
    public void onUpdate(EventPacket e) {
        if (mode.selected.contains("LimitNet")) {
            StopDecompilingClientFaggot = new Random().nextInt(10);
            if (e.getPacket() instanceof SPacketKeepAlive) {
                try {
                    Thread.sleep(150L * StopDecompilingClientFaggot);
                } catch (Exception exception) {
                    exception.printStackTrace();
                }
            }
        }
    }
    @EventTarget
    public void onUpdate(EventMotion e) {
        if (mode.selected.contains("STRENGTH")) {
            mc.player.addPotionEffect(new PotionEffect(MobEffects.STRENGTH, 20 * (780 + 37),1));
        }


    }
    @Override
    public void onDisable() {
        super.onDisable();
        if (mc.player != null) {
            mc.player.removeActivePotionEffect(MobEffects.STRENGTH);
        }
    }
}
